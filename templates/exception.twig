<!doctype html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Error dumper</title>
    {% include 'exception-css.twig' %}
</head>
<body>
<div class="container">
    <h1>Error!</h1>

    {{ tags.underTitle|raw }}

    {{ contentUnderTitle|raw }}

    <h2>Message</h2>
    {% set class = exception.getOriginalClass() %}
    {% set message = exception.getMessage() %}
    <pre><strong>{{ class }}</strong>{{ message != '' ? ' ' ~ message }}</pre>

    <h2>Stack trace</h2>

    {% set stepIndex = -1 %}
    {% for step in exception.getStackTrace() %}
        {% set stepIndex = stepIndex + 1 %}
        {% set stepKey = 'step-' ~ stepIndex %}
        {% include 'exception-step.twig' %}
    {% endfor %}

    <footer>
        <p class="pull-right small">
            Generated by <a href="https://github.com/awesomite/error-dumper" target="_blank">ErrorDumper</a>
            &bull; PHP {{ constant('PHP_VERSION') }}
            &bull; {{ memoryUsage() }}
        </p>
    </footer>
</div>

{% autoescape 'html_attr' %}
    <script
            type="text/javascript"
            src="{{ resources.jqueryJs.link }}"
            integrity="{{ resources.jqueryJs.integrity }}"
            crossorigin="anonymous"
    ></script>
    <script
            type="text/javascript"
            src="{{ resources.bootstrapJs.link }}"
            integrity="{{ resources.bootstrapJs.integrity }}"
            crossorigin="anonymous"
    ></script>
{% endautoescape %}

{{ tags.html|raw }}

{% for part in appendToBody %}
    {{ part|raw }}
{% endfor %}
</body>
</html>
